{
  "csar_name": "example",
  "node_types": {
    "Apache": {
      "properties_schema": {
        "HTTPPort": {
          "type": "string",
          "default": "8080"
        },
        "UseSSL": {
          "type": "boolean",
          "default": "true"
        }
      },
      "operations": {
        "install": [ "apache_install" ]
      }
    },
    "MySQL": {
      "operations": {
        "install": [ "mysql_install" ]
      },
      "deployment_artifacts": [ "mysql_install" ]
    }
  },
  "artifacts": {
    "apache_install": {
      "type": "WAR",
      "properties": {
        "ServiceEndpoint": "/services/org_opentosca_NodeTypes_UbuntuPort",
        "PortType": "{http://opentosca.org/NodeTypes}org_opentosca_NodeTypes_Ubuntu",
        "InvocationType": "SOAP/HTTP"
      },
      "references": [
        { "$toscafy.fetch": "https://gist.githubusercontent.com/jojow/0e5f6cea3d052999b662b60ad37f6d2f/raw/212ddd43f4372b95bb334aa94755412bc93cc117/opal-clus.metadata.json", "to": "opal-clus.metadata.json" },
        "./some-script.sh"
      ]
    },
    "mysql_install": {
      "type": "DockerCompose",
      "dockerComposeYml": "./some-script.sh",
      "context": "./some-script.sh",
      "serviceName": "mysql-mgmt-api",
      "privatePort": "3000",
      "urlPath": "/soap-endpoint"
    }
  },
  "topologies": {
    "ProductionEnv": {
      "nodes": {
        "ApacheHTTPServer": {
          "type": "Apache",
          "properties": {
            "HTTPPort": "8081"
          },
          "deployment_artifacts": [ ]
        },
        "MySQLDBServer": {
          "type": "MySQL"
        }
      },
      "relationships": {
        "ApacheConnectsToMySQL": {
          "type": "connects_to",
          "source": "ApacheHTTPServer",
          "target": "MySQLDBServer"
        }
      }
    }
  }
}
