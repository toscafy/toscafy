{
  "node_types": {
    "Apache": {
      "properties_schema": {
        "HTTPPort": {
          "type": "string",
          "default": "8080"
        }
      },
      "operations": {
        "install": [ "apache_install" ]
      }
    },
    "MySQL": {
      "operations": {
        "install": [ "mysql_install" ]
      },
      "deployment_artifacts": [ ]
    }
  },
  "artifacts": {
    "apache_install": {
      "type": "WAR",
      "properties": {
        "ServiceEndpoint": "/services/org_opentosca_NodeTypes_UbuntuPort",
        "PortType": "{http://opentosca.org/NodeTypes}org_opentosca_NodeTypes_Ubuntu",
        "InvocationType": "SOAP/HTTP"
      },
      "references": [
        { "$toscafy.fetch": "http://some/remote/location/to/fetch/file.war", "to": "file.war" },
        "./some/local/path/to/file.war"
      ]
    },
    "mysql_install": {
      "type": "DockerCompose",
      "dockerComposeYml": "mysql/docker-compose.yml",
      "context": "mysql/context.zip",
      "serviceName": "mysql-mgmt-api",
      "privatePort": "3000",
      "urlPath": "/soap-endpoint"
    }
  },
  "topologies": {
    "ProductionEnv": {
      "nodes": {
        "ApacheHTTPServer": {
          "type": "Apache",
          "properties": {
            "HTTPPort": "8081"
          },
          "deployment_artifacts": [ ]
        },
        "MySQLDBServer": {
          "type": "MySQL"
        }
      },
      "relationships": {
        "ApacheConnectsToMySQL": {
          "type": "connects_to",
          "source": "ApacheHTTPServer",
          "target": "MySQLDBServer"
        }
      }
    }
  }
}
